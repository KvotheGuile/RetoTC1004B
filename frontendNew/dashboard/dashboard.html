<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="dashboard-style.css" />
    <title>Dashboard | Eolo</title>
</head>
<body>
    <div class="page">

        <!-- Sidebar -->
        <div class="sidebar">
            <div class="grey-card">

                <!-- Logo -->
                <div class="logo">
                    <img src="../resources/logo.png" alt="Logo Eolo"/>
                </div>
                <div class="divider"></div>

                <!-- Sidebar elements -->
                <div class="sidebar-elements">

                    <a class="sidebar-element active" href="dashboard.html">
                        <svg class="humbleicons hi-dashboard" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-width="2" d="M4 5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5Zm10 0a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V5ZM4 16a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3Zm10-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-6Z"/>
                        </svg>
                    </a>

                    <a class="sidebar-element" href="alertas.html">
                        <svg class="humbleicons hi-exclamation-triangle" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v4m0 3v.01M5.313 20h13.374c1.505 0 2.471-1.6 1.77-2.931L13.77 4.363c-.75-1.425-2.79-1.425-3.54 0L3.543 17.068C2.842 18.4 3.808 20 5.313 20Z"/>
                        </svg>
                    </a>

                    <a class="sidebar-element" href="salas.html">
                        <svg class="humbleicons hi-home" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 10v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-9M6 10l6-6 6 6M6 10l-2 2m14-2 2 2m-10 1h4v4h-4v-4z"/>
                        </svg>
                    </a>

                    <div class="space"></div>

                    <a class="sidebar-element" href="ajustes.html">
                        <svg class="humbleicons hi-adjustments" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v10m0 6v-.5M17.5 4v5m0 11v-5.56M6.5 4v2m0 14v-8.44M6.5 6a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm5.5 8a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm5.5-5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"/>
                        </svg>
                    </a>

                </div>
            </div>
        </div>

        <!-- Main content -->
        <div class="main-content">
 
            <div class="topbar">
                <div class="grey-card">
                    <div class="padded-row">
                        <div style="color: #626262;">Sala <span class="placeholder">.....................</span></div>
                        <div style="color: #626262;"> ¡Hola <span class="placeholder">.............................</span>!</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard -->
            <div class="dashboard" id="dashboard">
                <div class="grey-card">
                    <div class="padded-column">

                        <!-- Dashboard header -->
                        <div class="dashboard-header">
                            <h1>Dashboard</h1>
                            <button>Exportar Datos</button>
                        </div>

                        <!-- Card container -->
                        <div class="card-container">

                            <!-- Row with 5 cards -->
                            <div class="row">
                                <div class="column" style="width: 70%;">
                                    <div class="row row3">
                                    <div class="card">
                                        <h2>Temperatura</h2>
                                        <p id="tempDisplay">Esperando datos...</p>
                                        <div class="setpoint">
                                            <input id="setTemp" type="number" step="0.1" placeholder="Setpoint °C">
                                            <button onclick="sendSetpoint('set_temp', setTemp.value)">Enviar</button>
                                        </div>
                                    </div>

                                    <div class="card">
                                        <h2>Presión</h2>
                                        <p id="pressDisplay">Esperando datos...</p>
                                        <div class="setpoint">
                                            <input id="setPres" type="number" step="0.1" placeholder="Setpoint hPa">
                                            <button onclick="sendSetpoint('set_pres', setPres.value)">Enviar</button>
                                        </div>
                                    </div>
                                    
                                    <div class="card">
                                        <h2>Altura</h2>
                                        <p id="heightDisplay">Esperando datos...</p>
                                        <div class="setpoint">
                                            <input id="setAlt" type="number" step="0.1" placeholder="Setpoint m">
                                            <button onclick="sendSetpoint('set_alt', setAlt.value)">Enviar</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row row2">
                                <div class="card">
                                    <h2>CO2</h2>
                                    <p id="co2Display">Esperando datos...</p>
                                    <div class="setpoint">
                                        <input id="setCo2" type="number" step="0.1" placeholder="Setpoint ppm">
                                        <button onclick="sendSetpoint('set_CO2', setCo2.value)">Enviar</button>
                                    </div>
                                </div>

                                <div class="card">
                                    <h2>TVOC</h2>
                                    <p id="tvocDisplay">Esperando datos...</p>
                                    <div class="setpoint">
                                        <input id="setTvoc" type="number" step="0.1" placeholder="Setpoint ppm">
                                        <button onclick="sendSetpoint('set_TVOC', setTvoc.value)">Enviar</button>
                                    </div>
                                </div>
                                    </div>
                                </div>
                                <div class="card">
                                        <h2>Humedad</h2>
                                        <div class="semi-gauge">
                                            <div class="semi-gauge-inner">
                                                <div class="semi-gauge-fill" id="humidity"></div>
                                                <div class="semi-gauge-cover"></div>
                                            </div>
                                        </div>
                                        <p id="humDisplay">Esperando datos...</p>
                                        <div class="setpoint">
                                            <input id="setHum" type="number" step="0.1" placeholder="Setpoint %">
                                            <button onclick="sendSetpoint('set_hum', setHum.value)">Enviar</button>
                                        </div>
                                </div>
                            </div>

                            

                            <!-- Row with particle data -->
                            <div class="row">
                                <div class="card">
                                    <h2>Partículas</h2>
                                    <div class="bar-graph" id="particleChart">

                                        <!-- Horizontal axis -->
                                        <div id="particleAxis" class="horizontal-axis">
                                            <div class="tick" style="left: 0%">0</div>
                                            <div class="tick" style="left: 20%">10</div>
                                            <div class="tick" style="left: 40%">100</div>
                                            <div class="tick" style="left: 60%">1,000</div>
                                            <div class="tick" style="left: 80%">10,000</div>
                                            <div class="tick" style="left: 100%">100,000</div>
                                        </div>

                                        <!-- Particle bars -->
                                        <div class="data-block">
                                            <div class="bar"><div class="progress" id="par03Bar"></div></div>
                                            <div class="label">0.3 µm: <span id="par03Display">--</span></div>
                                            <div class="setpoint">
                                                <input id="setPar03" type="number" step="0.1" placeholder="Setpoint µm">
                                                <button onclick="sendSetpoint('set_particulas03', setPar03.value)">Enviar</button>
                                            </div>
                                        </div>

                                        <div class="data-block">
                                            <div class="bar"><div class="progress" id="par05Bar"></div></div>
                                            <div class="label">0.5 µm: <span id="par05Display">--</span></div>
                                            <div class="setpoint">
                                                <input id="setPar05" type="number" step="0.1" placeholder="Setpoint µm">
                                                <button onclick="sendSetpoint('set_particulas05', setPar05.value)">Enviar</button>
                                            </div>
                                        </div>

                                        <div class="data-block">
                                            <div class="bar"><div class="progress" id="par10Bar"></div></div>
                                            <div class="label">1 µm: <span id="par10Display">--</span></div>
                                            <div class="setpoint">
                                                <input id="setPar10" type="number" step="0.1" placeholder="Setpoint µm">
                                                <button onclick="sendSetpoint('set_particulas10', setPar10.value)">Enviar</button>
                                            </div>
                                        </div>

                                        <div class="data-block">
                                            <div class="bar"><div class="progress" id="par25Bar"></div></div>
                                            <div class="label">2.5 µm: <span id="par25Display">--</span></div>
                                            <div class="setpoint">
                                                <input id="setPar25" type="number" step="0.1" placeholder="Setpoint µm">
                                                <button onclick="sendSetpoint('set_particulas25', setPar25.value)">Enviar</button>
                                            </div>
                                        </div>

                                        <div class="data-block">
                                            <div class="bar"><div class="progress" id="par50Bar"></div></div>
                                            <div class="label">5 µm: <span id="par50Display">--</span></div>
                                            <div class="setpoint">
                                                <input id="setPar50" type="number" step="0.1" placeholder="Setpoint µm">
                                                <button onclick="sendSetpoint('set_particulas50', setPar50.value)">Enviar</button>
                                            </div>
                                        </div>

                                        <div class="data-block">
                                            <div class="bar"><div class="progress" id="par100Bar"></div></div>
                                            <div class="label">10 µm: <span id="par100Display">--</span></div>
                                            <div class="setpoint">
                                                <input id="setPar100" type="number" step="0.1" placeholder="Setpoint µm">
                                                <button onclick="sendSetpoint('set_particulas100', setPar100.value)">Enviar</button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div> <!-- card-container -->

                    </div> <!-- padded-column -->
                </div> <!-- grey-card -->
            </div> <!-- dashboard -->
        </div> <!-- main-content -->

    </div> <!-- page -->
    <script src="dahsboard-script.js"></script>
        <script>
        window.addEventListener("load", () => {
            const saved = localStorage.getItem("fontSize");
            if (saved) {
                document.documentElement.style.fontSize = saved;
            }
        });
    </script>
</body>
</html>
